# 開発ロードマップ: カフェ・レストラン可視化アプリ

## 進捗メモ（2025-11-15更新）

- フェーズ0（準備）タスクは全て完了済み。
- フェーズ1は「Azureリソース構成(Functions/Cosmos等)のSKU決定」まで消化済み。
- 次タスク：Infrastructure as Code方針検討(Bicep/ARM)以降を順次着手。

## フェーズ0: 準備 (Week 0-1)

- アカウント・ライセンス整備（Azure、Google Maps、Instagram Graph API、GitHub）。
- コストアラート設定・無料枠確認、規約・ブランドガイドラインの整理。
- 要件定義・コスト試算・アカウントメモの最終レビューと承認。

## フェーズ1: アーキテクチャ設計 & 基盤構築 (Week 2-3)

- 技術スタックの詳細設計（フロント/バックエンド/データ処理構成図、API仕様書）。
- Azureリソース初期構築（Static Web Apps、Functions、Cosmos DB Serverless、Storage、Monitor）。
- Google Cloudプロジェクト設定、Maps/Places API有効化とキー制限。
- GitHubリポジトリ作成、CI/CD（GitHub Actions → Azure Static Web Apps）の雛形整備。
- 将来スケールを踏まえた設計見直し（アーキ更新、キャッシュ戦略、APIクォータ計画）をドキュメント化。

## フェーズ2: データ収集・AI分析基盤 (Week 4-5)

- SNSデータ取得バッチの実装（Instagram Graph API、Google Places口コミ）。
- ETLパイプライン（Azure Functionsタイマー or Data Factory）でのデータ整形・保存。
- AI要約・雰囲気タグ抽出ロジックの試作（Azure OpenAIを利用したプロンプト設計）。
- データモデル/スキーマ整備、Cosmos DBへの投入とCognitive Searchインデックス作成。

## フェーズ3: フロントエンドMVP (Week 6-7)

- 認証/アクセス制御（招待コードまたは許可済みアカウント）を実装。
- 地図表示（Google Maps JavaScript API）と店舗リスト・検索UIの作成。
- 店舗詳細画面でのAI要約・レビュー表示、お気に入りローカル保存機能の実装。
- UX検証（6名の想定ユーザーに対する操作ヒアリング）と改善。

## フェーズ4: テスト・運用準備 (Week 8)

- 自動テスト整備（ユニット、E2Eの主要シナリオ）、品質チェックリスト策定。
- 監視・ログ設定の調整（Azure Monitor / Application Insights）。
- 障害対応・問い合わせフロー定義、データ更新運用手順書を作成。
- プライバシーポリシー・利用規約ドラフトの用意（限定公開範囲に合わせた内容）。

## フェーズ5: 限定公開 & フィードバック収集 (Week 9-10)

- 本番環境へのデプロイと招待メンバーへのアクセス配布。
- 利用ログ・アンケートから改善点を抽出し、バックログ化。
- コスト・パフォーマンスの初期モニタリング、必要な最適化の実施。
- 次フェーズ（パーソナライズ、通知機能など）に向けた優先順位付け。

## デイリースケジュール (2025-10-30開始、1時間/日)

| 日付       | フェーズ | 1時間タスク                                                                                 | ステータス                                                      |
| ---------- | -------- | ------------------------------------------------------------------------------------------- | --------------------------------------------------------------- |
| 2025-10-30 | P0       | 要件・既存ドキュメントの再確認と作業方針の確定                                              | 完了                                                            |
| 2025-10-31 | P0       | Azureサブスクリプションの作成と支払い情報登録                                               | 完了                                                            |
| 2025-11-01 | P0       | Azure Cost Managementで予算アラート設定                                                     | 完了                                                            |
| 2025-11-02 | P0       | Google Cloudプロジェクトと請求アカウント開設                                                | 完了                                                            |
| 2025-11-03 | P0       | Google Maps APIキー発行とHTTPリファラ制限設定                                               | 完了                                                            |
| 2025-11-04 | P0       | Instagramビジネス/Meta開発者アカウント準備                                                  | 完了                                                            |
| 2025-11-05 | P0       | 利用規約・ブランドガイドラインの抜粋整理                                                    | 完了                                                            |
| 2025-11-06 | P0       | GitHubリポジトリ初期化とアクセス設定                                                        | 完了                                                            |
| 2025-11-07 | P0       | プライバシー/利用規約ドラフトの骨子メモ                                                     | 完了                                                            |
| 2025-11-08 | P0       | フェーズ0レビュー: アカウント整備完了確認                                                   | 完了                                                            |
| 2025-11-09 | P1       | 設計まわりの見直し（既存アーキテクチャ図の更新方針を決定）                                  | 完了                                                            |
| 2025-11-10 | P1       | キャッシュ戦略の検討（ブラウザ/Edge/Cosmos ETag設計・TTLプラン）                            | 完了                                                            |
| 2025-11-11 | P1       | APIクォータ計画（Google Maps/Instagramの上限・アラート設計）                                | 完了                                                            |
| 2025-11-12 | P1       | 全体アーキテクチャ図と主要コンポーネント洗い出し（`docs/architecture/architecture.drawio`） | 完了                                                            |
| 2025-11-13 | P1       | データフロー/ETLシーケンスの詳細化（`docs/blueprint/dataflow/` 配下）                       | 完了                                                            |
| 2025-11-14 | P1       | APIエンドポイント一覧とI/F仕様下書き（`docs/blueprint/interface/openapi.yaml`）             | 完了                                                            |
| 2025-11-15 | P1       | Azureリソース構成(Functions/Cosmos等)のSKU決定                                              | 完了                                                            |
| 2025-11-16 | P1       | Infrastructure as Code方針検討(Bicep/ARM)                                                   | 完了                                                            |
| 2025-11-17 | P1       | Azure Static Web Apps環境の初期セットアップ                                                 | 完了（手順ドキュメント化）                                      |
| 2025-11-18 | P1       | Azure Functionsプロジェクト雛形作成                                                         | 完了（`src/apps/backend` TypeScript Functions v4 テンプレート） |
| 2025-11-19 | P1       | Cosmos DBのコンテナ設計(パーティション/インデックス)                                        | 完了（`docs/blueprint/database/CosmosDB.md`）                   |
| 2025-11-20 | P1       | Cognitive Searchインデックス設計草案                                                        | 完了（`docs/blueprint/CognitiveSearchIndex.md`）                |
| 2025-11-21 | P1       | Secrets管理手法(Azure Key Vault等)の決定                                                    | 完了（`docs/blueprint/Security_KeyVault.md`）                   |
| 2025-11-22 | P1       | ローカル開発環境/Dev Container設定                                                          | 未着手                                                          |
| 2025-11-23 | P1       | CI/CDパイプライン設計書起草                                                                 | 未着手                                                          |
| 2025-11-24 | P1       | アーキテクチャ仕様書まとめ                                                                  | 未着手                                                          |
| 2025-11-25 | P1       | フェーズ1レビュー: 設計成果物チェック                                                       | 未着手                                                          |
| 2025-11-26 | P2       | Instagram Graph API権限・試験リクエストの確認                                               | 未着手                                                          |
| 2025-11-27 | P2       | Google Places口コミ取得のフィールド整理                                                     | 未着手                                                          |
| 2025-11-28 | P2       | データ取得Functionsの構成とキュー設計                                                       | 未着手                                                          |
| 2025-11-29 | P2       | Instagram取得Stub実装とログ出力                                                             | 未着手                                                          |
| 2025-11-30 | P2       | Places Details取得Stub実装とレート制御                                                      | 未着手                                                          |
| 2025-12-01 | P2       | 取得データの正規化・マッピングロジック実装                                                  | 未着手                                                          |
| 2025-12-02 | P2       | Cosmos DBへの書き込みテストとRU測定                                                         | 未着手                                                          |
| 2025-12-03 | P2       | タイマートリガー/バッチ実行スケジュール設定                                                 | 未着手                                                          |
| 2025-12-04 | P2       | Azure Monitorログ/メトリクス設計                                                            | 未着手                                                          |
| 2025-12-05 | P2       | AI要約プロンプト案作成                                                                      | 未着手                                                          |
| 2025-12-06 | P2       | Azure OpenAI呼び出し実装(テスト環境)                                                        | 未着手                                                          |
| 2025-12-07 | P2       | サンプルデータでAI要約を検証・調整                                                          | 未着手                                                          |
| 2025-12-08 | P2       | データパイプライン運用ドキュメント化                                                        | 未着手                                                          |
| 2025-12-09 | P2       | フェーズ2レビュー: データ/AI基盤検証                                                        | 未着手                                                          |
| 2025-12-10 | P3       | フロントエンドプロジェクト初期化(Next.js等)                                                 | 未着手                                                          |
| 2025-12-11 | P3       | 招待コードベースの認証UIモック                                                              | 未着手                                                          |
| 2025-12-12 | P3       | Google Maps描画と現在地表示ベースライン                                                     | 未着手                                                          |
| 2025-12-13 | P3       | 検索パネルUIとクエリ状態管理                                                                | 未着手                                                          |
| 2025-12-14 | P3       | 店舗マーカー描画と基本インタラクション                                                      | 未着手                                                          |
| 2025-12-15 | P3       | 店舗詳細モーダルとAI要約表示                                                                | 未着手                                                          |
| 2025-12-16 | P3       | お気に入り登録ローカル保存機能                                                              | 未着手                                                          |
| 2025-12-17 | P3       | フィルター/タグ選択UI実装                                                                   | 未着手                                                          |
| 2025-12-18 | P3       | レスポンシブ・スタイル調整                                                                  | 未着手                                                          |
| 2025-12-19 | P3       | アクセシビリティ一次チェック(Tab操作等)                                                     | 未着手                                                          |
| 2025-12-20 | P3       | バックエンドAPIとの接続・ハンドリング                                                       | 未着手                                                          |
| 2025-12-21 | P3       | E2E動作確認とバグ修正                                                                       | 未着手                                                          |
| 2025-12-22 | P3       | ユーザーフィードバック反映(6名対象)                                                         | 未着手                                                          |
| 2025-12-23 | P3       | フェーズ3レビュー: MVP機能確認                                                              | 未着手                                                          |
| 2025-12-24 | P4       | バックエンドユニットテスト追加                                                              | 未着手                                                          |
| 2025-12-25 | P4       | フロントエンドコンポーネントテスト実装                                                      | 未着手                                                          |
| 2025-12-26 | P4       | GitHub Actions CIワークフロー整備                                                           | 未着手                                                          |
| 2025-12-27 | P4       | Application Insightsダッシュボード構成                                                      | 未着手                                                          |
| 2025-12-28 | P4       | 障害対応手順/連絡フロー整理                                                                 | 未着手                                                          |
| 2025-12-29 | P4       | プライバシーポリシー・利用規約ドラフト仕上げ                                                | 未着手                                                          |
| 2025-12-30 | P4       | フェーズ4レビュー: リリース前チェック                                                       | 未着手                                                          |
| 2025-12-31 | P5       | 本番用Static Web Apps/Functionsへデプロイ                                                   | 未着手                                                          |
| 2026-01-01 | P5       | 限定ユーザー向けオンボーディングガイド作成                                                  | 未着手                                                          |
| 2026-01-02 | P5       | 招待発行・テスターアクセス開始                                                              | 未着手                                                          |
| 2026-01-03 | P5       | 初期ログ/コストモニタリングと調整                                                           | 未着手                                                          |
| 2026-01-04 | P5       | 軽微な改善・UI文言調整                                                                      | 未着手                                                          |
| 2026-01-05 | P5       | 改善要望のバックログ化                                                                      | 未着手                                                          |
| 2026-01-06 | P5       | 最終レビューと今後の改善計画整理                                                            | 未着手                                                          |
